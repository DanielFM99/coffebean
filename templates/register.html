<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Register</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
</head>

<body>
	<div class="register">
		<h1>Register</h1>
		<div class="links">
			<a href="{{ url_for('login') }}">Login</a>
			<a href="{{ url_for('register') }}" class="active">Register</a>
		</div>
		<form action="{{ url_for('register') }}" method="post" autocomplete="off" name="myForm"
			onsubmit="return validateForm()">
			<label for="username">
				<i class="fas fa-user"></i>
			</label>
			<input type="text" name="username" placeholder="Username" id="username" required>
			<label for="password">
				<i class="fas fa-lock"></i>
			</label>
			<input type="password" name="password" placeholder="Password" id="password" required>
			<label for="email">
				<i class="fas fa-envelope"></i>
			</label>
			<input type="text" name="email" placeholder="Email" id="email" required>
			<div class="msg">{{ msg }}</div>
			<input type="submit" value="Register">
		</form>
	</div>

	<script>

		var emailRegEx = new RegExp("^[-\w\D][^@]{0,64}@([\w-]+\.)+[\w-]+$")
		var senhaRegEx = new RegExp("^(?=(?:.*[a-z]))(?=(?:.*[A-Z]){2})(?=(?:.*\d){2})(?=(?:.*[-@!$%^#&*()_+|~={}\[\]:\";`'<>?,.\/\\]){2}).{10,128}$")

		function validateForm() {
			var stringEmail = document.forms["myForm"]["email"].value;
			if (!stringEmail.match(/^[-\w\D][^@]{0,64}@([\w-]+\.)+[\w-]+$/)) {
				alert("Invalid email address!");
			}

			var stringPassword = document.forms["myForm"]["password"].value;
			if (!stringPassword.match(/^(?=(?:.*[a-z]))(?=(?:.*[A-Z]){2})(?=(?:.*\d){2})(?=(?:.*[-@!$%^#&*()_+|~={}\[\]:\";`'<>?,.\/\\]){2}).{10,128}$/)) {
				alert("Invalid password!");
			}

		}
	</script>

</body>

</html>